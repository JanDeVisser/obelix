func ctx(name)
  self.name = name
  
  func __enter__()
    print("__enter__ ${0}", self.name)
  end

  func __exit__(ex)
    print("__exit__ ${0}", self.name)
    if ex
    then
      print("__catch__ ${0}: ${1}", self.name, ex.msg)
      throw ex
    end
  end

  print("new ${0}", self.name)
end

context c = new ctx("context")
  throw { msg: "test error" }
end
