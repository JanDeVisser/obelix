if(READLINE_INSTALL_DIR)
  message(STATUS "Using override READLINE_INSTALL_DIR to find readline")
  set(READLINE_INCLUDE_DIR "${READLINE_INSTALL_DIR}/include")
  find_library(READLINE_LIBRARIES NAMES readline PATHS "${READLINE_INSTALL_DIR}/lib")
else(READLINE_INSTALL_DIR)
  find_path(READLINE_INCLUDE_DIR readline/readline.h)
  find_library(READLINE_LIBRARIES NAMES readline)
endif(READLINE_INSTALL_DIR)

if(READLINE_INCLUDE_DIR AND READLINE_LIBRARIES)
  set(READLINE_FOUND 1)
  set(READLINE_INCLUDE_DIRS ${READLINE_INCLUDE_DIR})
endif(READLINE_INCLUDE_DIR AND READLINE_LIBRARIES)

if(READLINE_FOUND)
  message(STATUS "Found readline: -L ${READLINE_LIBRARIES} -I ${READLINE_INCLUDE_DIRS}")
else(READLINE_FOUND)
  if(READLINE_FIND_REQUIRED)
    message(FATAL_ERROR "Could NOT find readline" )
  else(READLINE_FIND_REQUIRED)
    message(STATUS "Could NOT find readline")
  endif(READLINE_FIND_REQUIRED)
endif(READLINE_FOUND)

# Hide advanced variables from CMake GUIs
mark_as_advanced(READ_INCLUDE_DIR READ_INCLUDE_DIRS READLINE_LIBRARIES )
